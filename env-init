#!/bin/bash

# Save the current directory into a variable.
# Source: http://stackoverflow.com/a/26384751/2650249
function mark {
    export $1="$(pwd)"
}
export -f mark

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi
# android sdk tools necessary to build cyanogenmod
if [ -d "$HOME/bin" ] ; then
        PATH=$PATH:$HOME/programming/misc/depot_tools
fi

# bind history search to arrow keys
bind '"\e[A":history-search-backward'
bind '"\e[B":history-search-forward'

# enable bash completion
source /etc/bash/bashrc.d/bash_completion.sh
# also for sudo'ed commands
complete -cf sudo

# show git branch in prompt:
# include git script
GIT_PROMPT="/usr/share/git/git-prompt.sh"
if [ -f "$GIT_PROMPT" ]; then
	source "$GIT_PROMPT"
	# modify PS1
	#PS1='[\u@\h \W$(__git_ps1 " (%s)")]\$ '
	PS1='\[\033[01;32m\]\u@\h\[\033[01;34m\] \w$(__git_ps1) \$\[\033[00m\] '
fi

# prevent wine from adding menu entries and desktop links
export WINEDLLOVERRIDES='winemenubuilder.exe=d'
# switch to 32bit prefix
export WINEPREFIX="$HOME/.local/share/wineprefixes/win32"
export WINEARCH="win32"
